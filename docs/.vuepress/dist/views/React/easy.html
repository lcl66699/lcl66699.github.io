<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>橘子海</title>
    <meta name="generator" content="VuePress 1.7.1">
    <link rel="icon" href="/vuepress-blog/favicon.ico">
    <meta name="description" content="心向大海，无所畏惧">
    
    <link rel="preload" href="/vuepress-blog/assets/css/0.styles.6dbaa33c.css" as="style"><link rel="preload" href="/vuepress-blog/assets/js/app.dee21d45.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/3.69ffd2da.js" as="script"><link rel="preload" href="/vuepress-blog/assets/js/16.d516429e.js" as="script"><link rel="prefetch" href="/vuepress-blog/assets/js/10.be66f9ca.js"><link rel="prefetch" href="/vuepress-blog/assets/js/11.62c5c7bc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/12.1ffba97c.js"><link rel="prefetch" href="/vuepress-blog/assets/js/13.23fbea9f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/14.9a5da6fb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/15.7b3f40ea.js"><link rel="prefetch" href="/vuepress-blog/assets/js/17.9f88844d.js"><link rel="prefetch" href="/vuepress-blog/assets/js/18.4a9c8e61.js"><link rel="prefetch" href="/vuepress-blog/assets/js/19.b3ed822e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/20.f7cc1a97.js"><link rel="prefetch" href="/vuepress-blog/assets/js/21.f3346a6f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/22.df9c08cc.js"><link rel="prefetch" href="/vuepress-blog/assets/js/23.c061dbea.js"><link rel="prefetch" href="/vuepress-blog/assets/js/24.1ef952bb.js"><link rel="prefetch" href="/vuepress-blog/assets/js/25.24be943e.js"><link rel="prefetch" href="/vuepress-blog/assets/js/26.3e6b1787.js"><link rel="prefetch" href="/vuepress-blog/assets/js/27.52546d20.js"><link rel="prefetch" href="/vuepress-blog/assets/js/28.9a2f1a8a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/29.9abecbff.js"><link rel="prefetch" href="/vuepress-blog/assets/js/30.dd97e0e8.js"><link rel="prefetch" href="/vuepress-blog/assets/js/31.752ff686.js"><link rel="prefetch" href="/vuepress-blog/assets/js/32.83ab871a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/33.e1dfc082.js"><link rel="prefetch" href="/vuepress-blog/assets/js/4.f9b057b6.js"><link rel="prefetch" href="/vuepress-blog/assets/js/5.b4b7c99a.js"><link rel="prefetch" href="/vuepress-blog/assets/js/6.b735a111.js"><link rel="prefetch" href="/vuepress-blog/assets/js/7.c90bdf63.js"><link rel="prefetch" href="/vuepress-blog/assets/js/8.f4c4e83f.js"><link rel="prefetch" href="/vuepress-blog/assets/js/9.e850df79.js"><link rel="prefetch" href="/vuepress-blog/assets/js/vendors~docsearch.4a8594da.js">
    <link rel="stylesheet" href="/vuepress-blog/assets/css/0.styles.6dbaa33c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container no-sidebar"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vuepress-blog/" class="home-link router-link-active"><!----> <span class="site-name">橘子海</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/vuepress-blog/views/Algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/vuepress-blog/views/Http/" class="nav-link">
  http
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/views/Principle/" class="nav-link">
  vue原理
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/views/Vue/" class="nav-link">
  vue基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/views/React/" class="nav-link router-link-active">
  React基础
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/views/js/" class="nav-link">
  js
</a></div><div class="nav-item"><a href="http://39.106.5.96/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人空间
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/views/other/" class="nav-link">
  乱
</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/vuepress-blog/views/Algorithm/" class="nav-link">
  算法
</a></div><div class="nav-item"><a href="/vuepress-blog/views/Http/" class="nav-link">
  http
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Vue" class="dropdown-title"><span class="title">Vue</span> <span class="arrow down"></span></button> <button type="button" aria-label="Vue" class="mobile-dropdown-title"><span class="title">Vue</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/views/Principle/" class="nav-link">
  vue原理
</a></li><li class="dropdown-item"><!----> <a href="/vuepress-blog/views/Vue/" class="nav-link">
  vue基础
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="React" class="dropdown-title"><span class="title">React</span> <span class="arrow down"></span></button> <button type="button" aria-label="React" class="mobile-dropdown-title"><span class="title">React</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/views/React/" class="nav-link router-link-active">
  React基础
</a></li></ul></div></div><div class="nav-item"><a href="/vuepress-blog/views/js/" class="nav-link">
  js
</a></div><div class="nav-item"><a href="http://39.106.5.96/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  个人空间
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他" class="dropdown-title"><span class="title">其他</span> <span class="arrow down"></span></button> <button type="button" aria-label="其他" class="mobile-dropdown-title"><span class="title">其他</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vuepress-blog/views/other/" class="nav-link">
  乱
</a></li></ul></div></div> <!----></nav>  <!----> </aside> <main class="page"> <div class="theme-default-content content__default"><p>安个vs的小插件   安好输入rcc  可快捷创建类 rfc快速创建函数</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token number">1.</span> React介绍
Facebook<span class="token punctuation">,</span>React主要是用于构建用户界面的JavaScript 库，实现单页面应用。
单页面应用和多页面应用
    多页面应用<span class="token operator">:</span>页面跳转时跳转的都是完整的html页面
    单页面应用<span class="token operator">:</span>只有<span class="token number">1</span>个html页面，所有内容都在这个页面中展示，通过“路由”来加载不同内容。全部是通过js来控制显示的。<span class="token constant">I</span>
单页面应用的优缺点<span class="token operator">:</span>
    优点<span class="token operator">:</span>用户体验比较好，加载比较流畅
    缺点<span class="token operator">:</span><span class="token function">不利于seo</span><span class="token punctuation">(</span>网站优化，能影响搜索排名<span class="token punctuation">)</span>
        <span class="token function">ssr</span><span class="token punctuation">(</span>服务端渲染<span class="token punctuation">)</span>
    特点<span class="token operator">:</span><span class="token function">声明式设计</span><span class="token punctuation">(</span>采用声明范式<span class="token punctuation">)</span>、高效、灵活、<span class="token constant">JSX</span>语法、组件、单向响应的数据流
 创建项目
 脚手架：下载别人写好的配置
    # npm i <span class="token operator">-</span>g yarn先安这个 再安下面的更快
# npx create<span class="token operator">-</span>react<span class="token operator">-</span>app my<span class="token operator">-</span>app
安装时还可以先把脚手架下载好，再通过脚手架下载项目
npm i <span class="token operator">-</span>g create <span class="token operator">-</span> react <span class="token operator">-</span>app
create <span class="token operator">-</span>react<span class="token operator">-</span> app my<span class="token operator">-</span> appcreate <span class="token operator">-</span>react<span class="token operator">-</span> app my<span class="token operator">-</span> app
    npx<span class="token operator">:</span> npm中的个功能，
    npx的执行分<span class="token number">3</span>步，第一步<span class="token operator">:</span>下载脚手架，第二步<span class="token operator">:</span> 使用脚手架安装项目。第三步<span class="token operator">:</span>下载好项目后删除脚手架。
<span class="token number">3.</span> 目录结构
    <span class="token operator">-</span> 项目依赖的包
    <span class="token operator">-</span> pubic：静态文件
    <span class="token operator">-</span> src ：前台文件代码的文件夹
        <span class="token operator">-</span> index<span class="token punctuation">.</span>js 入口
        <span class="token operator">-</span> app<span class="token punctuation">.</span>js 入口文件渲染的页面
        <span class="token operator">-</span> App<span class="token punctuation">.</span>test<span class="token punctuation">.</span>js测试文件 不用管
        <span class="token operator">-</span> serviceWorker<span class="token punctuation">.</span>js <span class="token constant">PWA</span>配置文件 不用管
    <span class="token operator">-</span> <span class="token punctuation">.</span>gitignore git上传时的忽略配置
    <span class="token operator">-</span> <span class="token keyword">package</span><span class="token punctuation">.</span>json
        <span class="token string">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token string">&quot;start&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts start&quot;</span><span class="token punctuation">,</span><span class="token comment">//启动开发阶段服务器</span>
            <span class="token string">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts build&quot;</span><span class="token punctuation">,</span><span class="token comment">//打包</span>
            <span class="token string">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts test&quot;</span><span class="token punctuation">,</span><span class="token comment">//运行测试</span>
            <span class="token string">&quot;eject&quot;</span><span class="token operator">:</span> <span class="token string">&quot;react-scripts eject&quot;</span><span class="token comment">//显示隐藏的配置</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token operator">-</span> 运行npm run eject 时， 提示<span class="token operator">:</span> Are you sure you want to eject<span class="token operator">?</span> This action is permanent <span class="token punctuation">.</span><span class="token punctuation">(</span>这个<span class="token punctuation">)</span>
    # npm run eject
    运行eject后会多出config文件夹和scripts文件夹
        config<span class="token operator">:</span>里面是webpack的配置
        scripts<span class="token operator">:</span>是启动命令的配置
<span class="token number">4.</span> jsx语法
    <span class="token number">1.</span> <span class="token operator">-</span> 在js中可以直接写html
        <span class="token operator">-</span> <span class="token constant">HTML</span>部分<span class="token operator">:</span>直接写html标签
        <span class="token operator">-</span> <span class="token constant">JS</span>部分<span class="token operator">:</span>写在<span class="token punctuation">{</span><span class="token punctuation">}</span>内
    <span class="token operator">-</span> babel会把j sx转成React<span class="token punctuation">.</span> <span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
    <span class="token operator">-</span> React<span class="token punctuation">.</span> <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token function">方法是创建react元素</span><span class="token punctuation">(</span>虚拟<span class="token constant">DOM</span><span class="token punctuation">)</span>的方法
    <span class="token operator">-</span> ReactDOM<span class="token punctuation">.</span> <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span>的第一 个参数，需要的就是react元素
    <span class="token number">2.</span> <span class="token operator">-</span>jsx的特点
        <span class="token operator">-</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>大括号中写的js表达式<span class="token punctuation">,</span><span class="token function">注意，大括号中不能直接渲染对象，能渲染数组</span><span class="token punctuation">(</span>不能有普通对象<span class="token punctuation">)</span>
    <span class="token operator">-</span> <span class="token constant">JSX</span>属性：写在标签的属性上
        <span class="token number">1.</span> 改名
            <span class="token operator">&lt;</span>div  className<span class="token operator">=</span><span class="token string">''</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>label htmlfor<span class="token operator">=</span><span class="token string">''</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>label<span class="token operator">&gt;</span>
        <span class="token number">2.</span> 标签上添加行内样式时，需要使用对象形式
<span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token punctuation">{</span>uid<span class="token punctuation">}</span> style<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span>color<span class="token operator">:</span><span class="token string">'red'</span><span class="token punctuation">,</span>fontSize<span class="token operator">:</span><span class="token string">'14px'</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    	 <span class="token number">3.</span> react元素是不可变的
    如果需要更新页面显示，就需要创建新的react元素
<span class="token number">5.</span> 元素渲染
    ReactDOM<span class="token punctuation">.</span> <span class="token function">render</span><span class="token punctuation">(</span>react元素<span class="token punctuation">)</span>
    react元素写法<span class="token operator">:</span>
    <span class="token number">1.</span> 直接使用jsx语法<span class="token operator">:</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>uname<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    <span class="token number">2.</span> 使用React<span class="token punctuation">.</span> <span class="token function">createElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token number">3.</span> 使用组件<span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
ReactDOM<span class="token punctuation">.</span><span class="token function">render</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Home<span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">'root'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token number">6.</span> 组件
    <span class="token number">1.</span> 概念<span class="token operator">:</span>从概念上类似于JavaScript <span class="token function">函数。它接受任意的入参</span><span class="token punctuation">(</span>即<span class="token string">&quot;props&quot;</span><span class="token punctuation">)</span> ，并返回用于描述页面展示内容的React元素。组件允许你将<span class="token constant">UI</span>拆分为独立可复用的代码片段，并对每个片段进行独立构思。
<span class="token number">2.</span> 创建方式

        <span class="token number">1.</span> 函数式组件
            <span class="token keyword">function</span> <span class="token function">App</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span>props<span class="token punctuation">.</span>name<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
            函数组件不用hook语法时，功能弱j，有hook语法后 替代类形式组件。
        <span class="token number">2.</span> 类形式组件
        <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token function">componentWillMount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
            states<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        前期使用类组件，会学习类组件中的state<span class="token punctuation">,</span>生命周期函数。
        不管什么组件 必须引入react7
<span class="token number">7.</span> 类形式组件
    <span class="token number">1.</span> 创建组件rcc
        <span class="token keyword">class</span> <span class="token class-name">Home</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
            <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        说明：<span class="token number">1.</span> 组件名称首字母要求大写
            <span class="token number">2.</span> 需要继承React<span class="token punctuation">.</span>Component这个类
            <span class="token number">3.</span> 必须有一个render函数，render必须<span class="token keyword">return</span>，<span class="token keyword">return</span>后写的是jsx语法
    <span class="token number">2.</span> 导出组件
        <span class="token keyword">export</span> <span class="token punctuation">{</span>Home<span class="token punctuation">}</span>
        <span class="token keyword">export</span> <span class="token keyword">default</span> Home
    <span class="token number">3.</span> 导入组件
        <span class="token keyword">import</span> <span class="token punctuation">{</span>Home<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'path'</span>
        <span class="token keyword">import</span> AppHome <span class="token keyword">from</span> <span class="token string">'path'</span>
    <span class="token number">4.</span> 使用组件
        当成标签使用
        <span class="token operator">&lt;</span>Home <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span>Home<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Home<span class="token operator">&gt;</span>
<span class="token number">8.</span> 组件复用
    把页面中的某一块<span class="token constant">UI</span>拆分出去，做成一个组件，在原来的位置调用组件即可。
<span class="token number">9.</span> props
    <span class="token operator">-</span> 当React元素为用户自定义组件时，它会将<span class="token constant">JSX</span> <span class="token function">所接收的属性</span><span class="token punctuation">(</span>attributes<span class="token punctuation">)</span> 转换为单个对象传递给组件，这个对象被称之为“props”。
    <span class="token operator">-</span> 调用组件时可以通过属性的形式定义传递数据
     <span class="token operator">&lt;</span>Item data<span class="token operator">=</span><span class="token string">'string'</span> arr<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">]</span><span class="token punctuation">}</span>  <span class="token operator">/</span><span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Item picurl<span class="token operator">=</span><span class="token punctuation">{</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>picurl<span class="token punctuation">}</span> title<span class="token operator">=</span><span class="token punctuation">{</span>arr<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>title<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
    在Item组件可以通过props对象，获取到用户调用组件时传入的数据
        <span class="token keyword">class</span> <span class="token class-name">Item</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span><span class="token punctuation">{</span>
            console<span class="token punctuation">.</span> <span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">)</span> <span class="token comment">// {data:'string ' ,arr:[1,2,3,4]}</span>
    <span class="token operator">-</span> 传递数据时，多个组件调用定义的属性名要一致。 
    <span class="token operator">-</span> 可以使用 <span class="token operator">...</span> 扩展运算符
    <span class="token operator">-</span> 还可以遍历时传递数据
    <span class="token operator">-</span> props是只读属性
<span class="token number">10.</span> <span class="token constant">JSX</span>中的循环
    不能使用<span class="token keyword">for</span>循环<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">使用map</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法遍历对象或数组
        arr<span class="token operator">/</span>obj<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> item
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token number">11.</span> state
    <span class="token operator">-</span> state是定义组件内部自己使用的数据
    <span class="token operator">-</span> 在类组件中有两种定义方式
        第一种：在constructor方法中定义
            <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>state <span class="token operator">=</span> <span class="token punctuation">{</span>
                    count<span class="token operator">:</span><span class="token number">1</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        第二种：直接在组件中定义
            state <span class="token operator">=</span> <span class="token punctuation">{</span>
                count<span class="token operator">:</span><span class="token number">2</span>
            <span class="token punctuation">}</span>
    <span class="token operator">-</span> 使用state数据
        <span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>xx
    <span class="token operator">-</span> 修改state数据
        必须！<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法
        用法<span class="token number">1</span>：对象形式的
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                count<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span> state <span class="token punctuation">.</span> count <span class="token operator">+</span> <span class="token number">1</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
        用法<span class="token number">2</span>：函数形式的
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token punctuation">{</span>
                    count<span class="token operator">:</span>state<span class="token punctuation">.</span>count<span class="token operator">+</span><span class="token number">1</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
    
    <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法有批量更新功能
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>count<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法 可能是异步的
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        什么时候是异步的：不放在其他宏任务或微任务中 当setState直接放在事件的宏任务中执行时，是异步的
        什么时候是同步的：setState又被放在别的宏任务中<span class="token punctuation">,</span>或者其他的微任务中
    <span class="token operator">-</span> setState的函数形式：
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span>state<span class="token punctuation">)</span><span class="token operator">=</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token punctuation">{</span>
                count<span class="token operator">:</span>state<span class="token punctuation">.</span>count<span class="token operator">+</span><span class="token number">1</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
        函数中有一个参数state<span class="token punctuation">,</span>这个state是谁<span class="token operator">?</span>
            <span class="token function">state是上一次操作完state的结果</span><span class="token punctuation">(</span>永远是最新的数据<span class="token punctuation">)</span>

加<span class="token keyword">this</span>不累加  算最后一个    不加<span class="token keyword">this</span>的话 就累加加的多
<span class="token operator">&lt;</span>button onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                        page<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>page<span class="token operator">+</span><span class="token number">1</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                        page<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>page<span class="token operator">+</span><span class="token number">2</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                        page<span class="token operator">:</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>page<span class="token operator">+</span><span class="token number">3</span>
                    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span> 
                <span class="token operator">++</span><span class="token operator">&lt;</span><span class="token operator">/</span>button<span class="token operator">&gt;</span>






Day2
# react2
<span class="token number">1.</span> 生命周期函数
<span class="token operator">-</span> 又叫钩子函数，在组件运行的过程会在某些指定的条件下自动触发执行。
组件有三个生命周期函数一生只触发一次：
componentWillMount
componentDidMount
componentWillUnMount
<span class="token operator">-</span> 生命周期流程图

    <span class="token operator">-</span> 生命周期函数作用
        <span class="token operator">-</span> componentWillMount <span class="token function">组件渲染前，可能会放网络请求</span><span class="token punctuation">(</span>不太建议<span class="token punctuation">)</span>
        ##  componentDidMount 组件渲染完成，网络请求，全局事件绑定
        ## <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            是否允许组件更新，优化使用
            <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        ## <span class="token function">componentWillUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            更新前，一般不做任何处理
        <span class="token punctuation">}</span>
        <span class="token operator">-</span> <span class="token function">componentDidUpdate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            组件更新完成，新网络请求
        <span class="token punctuation">}</span>
        <span class="token operator">-</span> <span class="token function">componentWillReceiveProps</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            props改变了 接收新的props，一般不做任何处理
        <span class="token punctuation">}</span>
        ##   <span class="token function">componentWillUnmount</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
r            组件销毁前，把全局绑定的事件、网络请求等有副作用的全部清除
        <span class="token punctuation">}</span>
<span class="token number">2.</span> 事件系统
    <span class="token operator">-</span> react中自己重新定义事件系统，react绑定事件不需要获取到<span class="token constant">DOM</span>元素，而是把事件绑定定义在虛拟<span class="token constant">DOM</span>上了
    <span class="token operator">-</span> 语法<span class="token operator">:</span>
    <span class="token operator">&lt;</span>div on<span class="token operator">+</span>事件名<span class="token operator">=</span><span class="token punctuation">{</span>EventFunction<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    说明：<span class="token number">1.</span> js的事件，驼峰命名法
          <span class="token number">2.</span> EventFunction<span class="token operator">:</span>对应的事件功能，编写的形式
                <span class="token number">1.</span>直接定义一个箭头函数
                <span class="token number">2.</span>可以定义函数
                如果是类形式组件，需要使用<span class="token keyword">this</span><span class="token punctuation">.</span>clickme<span class="token punctuation">,</span> clickme函数定义在类中
                <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">React<span class="token punctuation">.</span>Component</span><span class="token punctuation">{</span>
                        <span class="token function">clickme</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
                        <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                            <span class="token keyword">return</span> <span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickme<span class="token punctuation">}</span><span class="token operator">&gt;</span>
                        <span class="token punctuation">}</span>
                    <span class="token punctuation">}</span>
    ##    <span class="token number">3.</span>this指向问题
            在react中，自定义事件中<span class="token keyword">this</span>默认是指向<span class="token keyword">undefined</span>的。
（<span class="token number">1.</span>在react组件的生命周期函数中，<span class="token keyword">this</span>指向当前组件
<span class="token number">2.</span>在react <span class="token keyword">class</span>定义的组件中，constructor构造方法中需要通过调用<span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>方法生成<span class="token keyword">this</span>，这时	<span class="token keyword">this</span>指向当前组件；否则不存在<span class="token keyword">this</span>，使用会报错。
<span class="token number">3.</span>在react 组件中，自定义<span class="token keyword">function</span>函数中<span class="token keyword">this</span>默认指向<span class="token keyword">undefined</span>）

            如果想让<span class="token keyword">this</span>指向当前组件    <span class="token constant">I</span>
                方法<span class="token number">1</span><span class="token operator">:</span>使用bind<span class="token punctuation">,</span>改变<span class="token keyword">this</span>指向   
                方法<span class="token number">2</span>：使用箭头函数
                方法<span class="token number">3</span>：在constructor构造方法中通过bind绑定<span class="token keyword">this</span>
<span class="token operator">&lt;</span>div onClick<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>clickme <span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token function">constructor</span><span class="token punctuation">(</span> <span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">super</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>clickme <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clickme</span> <span class="token punctuation">.</span> <span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
            <span class="token function">如果当函数调用时没有传参，建议使用方法3</span><span class="token punctuation">(</span>constructor中绑定<span class="token punctuation">)</span>
            如果函数调用时需要传参，使用直接bind绑定更多一些
     <span class="token operator">-</span> 事件对象
        <span class="token operator">-</span> 事件对象不需要传递，直接调用就行，把事件对象方法函数形参的最后y一个位置
        <span class="token operator">-</span> 获取坐标信息
event<span class="token punctuation">.</span>pagex <span class="token operator">/</span> event <span class="token punctuation">.</span> pageY
        <span class="token operator">-</span> 阻止默认事件
e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">-</span> 阻止冒泡
e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">-</span> 获取事件触发者  
<span class="token number">3.</span> 表单
    <span class="token operator">-</span> form标签
        <span class="token operator">&lt;</span>form action<span class="token operator">=</span> <span class="token string">' http://xx/xx.php/xx. jsp/xx.asp'</span> method<span class="token operator">=</span> <span class="token string">' get post'</span> <span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span> form<span class="token operator">&gt;</span>
    <span class="token operator">-</span> ajax<span class="token operator">:</span>不刷新页面，能实现页面的局部更新，有ajax后form用的很少了
    <span class="token operator">-</span> 表单<span class="token operator">:</span>收集用户输入的信息
        <span class="token operator">-</span> 第一种收集信息的形式：受控组件
受控组件：表单数据的显示和更改有react控制，具体是由react的state的控制。使 React 的 state 成为“唯一数据源”。
             <span class="token operator">&lt;</span>input value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">}</span> onChange<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>user<span class="token operator">:</span>e<span class="token punctuation">.</span>currentTarget<span class="token punctuation">.</span>vale<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">-</span> 特殊的受控组件：
                    单选按钮：
                        <span class="token number">1.</span> value属性值不能改变
                        <span class="token number">2.</span> onChange事件只有在选中时触发
                    多选按钮：
        <span class="token operator">-</span> 第二种收集信息的形式：非受控组件
            非受控组件：允许用户获取到原生<span class="token constant">DOM</span>，自己来操作数据
            使用非受控组件获取input中值
                        <span class="token number">1.</span> 创建ref ： React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                        <span class="token number">2.</span> 把创建ref添加到标签上，使用ref属性
ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>mref<span class="token punctuation">}</span>
                        <span class="token number">3.</span> 获取<span class="token constant">DOM</span>，<span class="token keyword">this</span><span class="token punctuation">.</span>myref<span class="token punctuation">.</span>current
<span class="token constant">DAY</span> <span class="token number">3</span>
# <span class="token keyword">new</span>
<span class="token class-name">4<span class="token punctuation">.</span></span> 状态提升
    <span class="token number">1.</span> 数据的传递方向：
        父级向子级传递，使用props
        子级向父级传递，状态提升
    <span class="token number">2.</span> 用法
        <span class="token number">1.</span>让父级向子级传递一个函数
 	 	<span class="token operator">&lt;</span>Son user<span class="token operator">=</span> getSonDate<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getSonDate</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token number">2.</span>在子级组件中调用传递来的这个方法
<span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">getSonDate</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>user<span class="token punctuation">)</span>
        <span class="token number">3.</span>在子级组件中调用这个函数时可以传递实参
  	 	<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token punctuation">{</span>list<span class="token operator">:</span>cs<span class="token punctuation">}</span><span class="token punctuation">)</span>
        <span class="token number">4.</span>在父级函数中接收数据
 		
<span class="token number">5.</span> 组合
    <span class="token number">1.</span> <span class="token function">有些组件无法提前知晓它们子组件的具体内容。在Sidebar</span> <span class="token punctuation">(</span>侧边栏<span class="token punctuation">)</span><span class="token function">和Dialog</span> <span class="token punctuation">(</span>对话框<span class="token punctuation">)</span><span class="token function">等展现通用容器</span><span class="token punctuation">(</span>box<span class="token punctuation">)</span>的组件中特别容易遇到这种情况。我们建议这些组件使用一个特殊的childrenprop來将他们的子组件传递到渲染结果中
    <span class="token number">2.</span> 用法<span class="token operator">:</span>
        <span class="token number">1.</span> 定义一个组件，组件中使用特殊的children prop属性
 					<span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
        <span class="token number">2.</span> 使用这个组件，作为双标签使用，在双标签内部定义具体内容
    					<span class="token operator">&lt;</span>TopBar<span class="token operator">&gt;</span>
        					<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>首页<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        					<span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>组件<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
      				<span class="token operator">&lt;</span><span class="token operator">/</span>TopBar<span class="token operator">&gt;</span>
        <span class="token number">3.</span> 定义组件时使用childrenprop的位置就能显示双标签中的内容
    <span class="token number">3.</span> React<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>type<span class="token punctuation">,</span>options<span class="token punctuation">,</span>children<span class="token punctuation">)</span>
        type <span class="token operator">:</span>标签类型
        options<span class="token operator">:</span>属性集合
        children<span class="token operator">:</span>子级元素
        <span class="token operator">&lt;</span>div id<span class="token operator">=</span><span class="token string">'odiv'</span> className<span class="token operator">=</span><span class="token string">'box'</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>span<span class="token operator">&gt;</span>ddd<span class="token operator">&lt;</span><span class="token operator">/</span>span<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        React<span class="token punctuation">.</span><span class="token function">createElements</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>id<span class="token operator">=</span><span class="token string">'odiv'</span><span class="token punctuation">,</span> className<span class="token operator">=</span><span class="token string">'box'</span><span class="token punctuation">}</span><span class="token punctuation">,</span>React<span class="token punctuation">.</span><span class="token function">createElements</span><span class="token punctuation">(</span><span class="token string">'span'</span><span class="token punctuation">,</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token string">'ddd'</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token number">3.</span> props类型验证
    <span class="token number">1.</span> PropTypes类型检测<span class="token operator">:</span>父级向子级传递数据时，是否是子级要求的数据类型，如果不是PropTypes会报警告。
    <span class="token number">2.</span> 使用步骤
        <span class="token number">1.</span> 引入验证包
            <span class="token keyword">import</span> PropTypes <span class="token keyword">from</span> <span class="token string">'prop-types'</span> <span class="token punctuation">;</span>
        <span class="token number">2.</span> 定义需要验证的prop属性
            类组件中用法：
            组件名<span class="token punctuation">.</span>propTypes<span class="token operator">=</span><span class="token punctuation">{</span>
                count<span class="token operator">:</span>propTypes<span class="token punctuation">.</span>string <span class="token comment">//验证单个类型</span>
                msg：propTypes<span class="token punctuation">.</span><span class="token function">oneOfType</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token comment">//验证多种类型</span>
                    propTypes<span class="token punctuation">.</span>number<span class="token punctuation">,</span>
                    propTypes<span class="token punctuation">.</span>string
                <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                vnode<span class="token operator">:</span>propTypes<span class="token punctuation">.</span>element<span class="token punctuation">.</span>isRequired<span class="token comment">//验证必须项</span>
            <span class="token punctuation">}</span>
            第二种写法：
                <span class="token keyword">static</span> propTypes <span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token number">3.</span> 给props定义默认值
            类名<span class="token punctuation">.</span>defaultProps<span class="token operator">=</span><span class="token punctuation">{</span>
                msg<span class="token operator">:</span><span class="token string">'hello'</span><span class="token punctuation">,</span>
                obj<span class="token operator">:</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
    <span class="token number">4.</span> 执行顺序
        默认值比验证执行的早

<span class="token number">4.</span> fetch网络请求
    <span class="token number">1.</span> 介绍<span class="token operator">:</span>
        <span class="token number">1.</span> 是es6中提供的一种新的网络请求方式。Fetch <span class="token constant">API</span> 提供了一个JavaScript接口，用于访问和操纵<span class="token constant">HTTP</span>管道的部分，不是ajax 了。
        <span class="token number">2.</span> fetch方法是一个全局方法，可以在任意位置使用
        <span class="token number">3.</span> <span class="token function">fetch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>返回的Promise ，使用<span class="token punctuation">.</span> <span class="token function">then</span><span class="token punctuation">(</span> <span class="token punctuation">)</span>获取请求成功的结果<span class="token punctuation">,</span>使用<span class="token punctuation">.</span> catch捕获错误信息
        <span class="token number">4.</span> 默认情况下，fetch不会从服务端发送或接收任何cookies<span class="token punctuation">,</span> 要发送cookies<span class="token punctuation">,</span>必须设置credentials 选项，credentials的默认值是 same<span class="token operator">-</span>origin
    <span class="token number">2.</span> 语法
        <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span><span class="token punctuation">{</span>
            method<span class="token operator">:</span><span class="token string">''</span>get<span class="token operator">/</span>post'<span class="token punctuation">,</span><span class="token comment">//默认get</span>
            body<span class="token operator">:</span>data<span class="token punctuation">,</span><span class="token comment">//携带的是post数据</span>
            params<span class="token operator">:</span>data<span class="token comment">//携带的是get数据</span>
            header<span class="token operator">:</span><span class="token punctuation">{</span>    <span class="token comment">//配置请求头</span>
                <span class="token string">'Content-Type'</span><span class="token operator">:</span><span class="token string">'application/x-www-form-urlencoded'</span> 
<span class="token comment">//post以form data形式传递数据</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            credentials<span class="token operator">:</span><span class="token string">'same-origin'</span><span class="token punctuation">,</span> <span class="token comment">//是否允许携带cookie数据(include可携带)</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token number">3.</span> 返回值：网络请求的结果 通过promise<span class="token punctuation">.</span>then方法接收的
        不可直接用，fetch提供了对应的解析方法
        <span class="token punctuation">.</span><span class="token function">blob</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 把结果解析二进制
        <span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 把结果解析字符串
        <span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 把结果解析json对象
<span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token operator">=&gt;</span>data<span class="token punctuation">.</span> <span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token function">then</span><span class="token punctuation">(</span> <span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span> console <span class="token punctuation">.</span> <span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
        解析后的json对象格式：key：value
            <span class="token punctuation">{</span>
                data：<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">//真实请求结果</span>
                status：<span class="token number">200</span>，
                header：<span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
    <span class="token number">4.</span> 请求携带数据
       <span class="token number">1.</span> <span class="token keyword">get</span>
            <span class="token number">1.</span> 问号携带数据
                携带形式：url<span class="token operator">?</span>key<span class="token operator">=</span>value<span class="token operator">&amp;</span>key<span class="token operator">=</span>value
            <span class="token number">2.</span> restful数据
                携带形式：url<span class="token operator">/</span>value<span class="token operator">/</span>value2
                要求后台识别哪些是路径，哪些是数据
        <span class="token number">2.</span> post
            <span class="token number">1.</span> 需要加请求头header，method
            <span class="token number">2.</span> 传递的数据需要放在body上，而且是<span class="token string">'key=value&amp;key=value'</span> 的字符串
    <span class="token number">5.</span> 跨域解决
        <span class="token number">1.</span> cors <span class="token operator">:</span> 后台配置，前台不需要管
        <span class="token number">2.</span> jsonp <span class="token operator">:</span> 使用 fetch<span class="token operator">-</span>jsonp插件
            <span class="token number">1.</span> 下载安装 npm i fetch<span class="token operator">-</span>jsonp
            <span class="token number">2.</span> 引入插件
            <span class="token number">3.</span> 使用插件请求
    		 <span class="token function">getJsonp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       			 <span class="token function">fetchJsonp</span><span class="token punctuation">(</span><span class="token string">'http://localhost:5000/kuayu'</span><span class="token punctuation">)</span>
       			 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token operator">=&gt;</span>data<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
       			 <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token operator">=&gt;</span>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span>
    				<span class="token punctuation">}</span>

        <span class="token number">3.</span> 代理
            <span class="token number">1.</span> 在<span class="token keyword">package</span><span class="token punctuation">.</span>json中写
<span class="token string">&quot;proxy&quot;</span><span class="token operator">:</span> <span class="token string">&quot;http://localhost:5000&quot;</span>

                <span class="token number">1.</span> <span class="token keyword">package</span><span class="token punctuation">.</span>json中有一个字段：proxy<span class="token punctuation">,</span>这个字段可以实现一个代理
                <span class="token number">2.</span> 重启前台服务
                <span class="token number">3.</span> 前台调用接口时只需要写接口名称，不写代理地址
            <span class="token number">2.</span> 使用http<span class="token operator">-</span>proxy<span class="token operator">-</span>middleware中间件
                <span class="token number">1.</span> 下载安装： npm i http<span class="token operator">-</span>proxy<span class="token operator">-</span>middleware
                <span class="token number">2.</span> 在src目录下创建一个setupProxy<span class="token punctuation">.</span>js文件
                <span class="token number">3.</span> 编写配置
<span class="token keyword">let</span> <span class="token punctuation">{</span>createProxyMiddleware<span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">'http-proxy-middleware'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">app</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span><span class="token function">createProxyMiddleware</span><span class="token punctuation">(</span><span class="token string">'/inex'</span><span class="token punctuation">,</span><span class="token punctuation">{</span>
target<span class="token operator">:</span><span class="token string">'https://3g.163.com//touch/reconstruct/article/list'</span><span class="token punctuation">,</span>
changeOrigin<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
pathRewrite<span class="token operator">:</span><span class="token punctuation">{</span>
<span class="token string">'/inex'</span><span class="token operator">:</span><span class="token string">''</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

                <span class="token number">4.</span> 网络请求时：<span class="token operator">/</span>inex<span class="token operator">/</span>接口名称

<span class="token constant">DAY</span> <span class="token number">4</span>
# router 路由
<span class="token number">1.</span> 路由介绍<span class="token operator">:</span>react主要实现单页面应用，也有切换内容显示的需求，定义一个可以根据不同的路径加载不同的内容的功能，这个功能就叫路由
    路由常用的有两种实现方法<span class="token operator">:</span>
        <span class="token number">1.</span> hash路由，根据路径中的hash值来决定显示页面
        <span class="token number">2.</span> history路由：使用h5中的history对象
<span class="token number">2.</span> 安装<span class="token operator">:</span>
    npm i <span class="token operator">-</span><span class="token constant">S</span> react<span class="token operator">-</span>router<span class="token operator">-</span>dom
<span class="token number">3.</span> 配置
    <span class="token number">1.</span> <span class="token function">先决定使用哪种路由模式</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span>history<span class="token punctuation">)</span>
        <span class="token operator">&lt;</span>HashRouter<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>HashRouter<span class="token operator">&gt;</span>  #
        <span class="token operator">&lt;</span>BrowserRouter<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>BrowserRouter<span class="token operator">&gt;</span> <span class="token comment">//</span>
        提供了一个路由容器<span class="token punctuation">,</span>在容器中定义具体
        路由，那么定义的路由就会按照决定好的路由模式来显示。
    <span class="token number">2.</span> 定义具体的路由
        <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/about'</span> compoent<span class="token operator">=</span><span class="token punctuation">{</span>about<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
        path<span class="token operator">:</span>是路径，会在浏览器地址栏显示
        component：要加载的页面
        exact：精准匹配
    <span class="token number">3.</span> Route的特点<span class="token operator">:</span>贪婪匹配
        不想贪婪，想一次加载一个路由，实现方式<span class="token number">2</span>种<span class="token operator">:</span>
        <span class="token number">1.</span> exact精准匹配
        <span class="token number">2.</span> react<span class="token operator">-</span>router<span class="token operator">-</span>rom还提供了一个标签<span class="token punctuation">,</span><span class="token operator">&lt;</span>Switch<span class="token operator">&gt;</span><span class="token punctuation">,</span>作用是显示匹配到的第一个Path
    <span class="token number">4.</span> Link标签，导航
        <span class="token operator">&lt;</span>link to<span class="token operator">=</span><span class="token string">'/'</span> exact <span class="token operator">/</span><span class="token operator">&gt;</span>去哪<span class="token operator">&lt;</span><span class="token operator">/</span>link<span class="token operator">&gt;</span>
    <span class="token number">5.</span> 动态路由
        <span class="token number">1.</span> 定义路由时，规定哪些部分是动态的，如果是动态需要使用<span class="token operator">:</span>variable 形式定义
           <span class="token operator">&lt;</span>Route path<span class="token operator">=</span> <span class="token string">'/detail/:newsid'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Detail<span class="token punctuation">}</span><span class="token operator">&gt;</span>
        <span class="token number">2.</span> <span class="token function">跳转时</span><span class="token punctuation">(</span>Link<span class="token punctuation">)</span><span class="token punctuation">,</span>需要给动态参加具体的数据
             <span class="token operator">&lt;</span>link to<span class="token operator">=</span><span class="token string">'/detail/1'</span>  <span class="token operator">/</span><span class="token operator">&gt;</span>去哪<span class="token operator">&lt;</span><span class="token operator">/</span>link<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span> <span class="token operator">/</span>detail<span class="token operator">/</span>$<span class="token punctuation">{</span>id<span class="token punctuation">}</span><span class="token operator">^</span> <span class="token punctuation">}</span><span class="token operator">&gt;</span>详情<span class="token operator">&lt;</span><span class="token operator">/</span><span class="token constant">L</span> ink<span class="token operator">&gt;</span>
<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span> 
pathpame<span class="token operator">:</span> <span class="token operator">/</span>detail<span class="token operator">/</span>$<span class="token punctuation">{</span>id<span class="token punctuation">}</span> <span class="token operator">|</span>
<span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
遍历
    <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>arr<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">ele<span class="token punctuation">,</span>index</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token operator">&lt;</span>Link key<span class="token operator">=</span><span class="token punctuation">{</span>index<span class="token punctuation">}</span> to<span class="token operator">=</span><span class="token punctuation">{</span><span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">/detail/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>ele<span class="token punctuation">.</span>id<span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">`</span></span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token punctuation">{</span>ele<span class="token punctuation">.</span>user<span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">}</span>
        <span class="token number">3.</span> 在跳转后的组件中可以获取到动态路由的具体参数值
            从props<span class="token punctuation">.</span>match<span class="token punctuation">.</span>params这个对象获取

    <span class="token number">6.</span> Route加载的组件的props<span class="token punctuation">.</span><span class="token function">上会自动多3个对象</span><span class="token punctuation">(</span>history<span class="token punctuation">,</span>match<span class="token punctuation">,</span>loaction<span class="token punctuation">)</span>
        history<span class="token operator">:</span>h5的history对象，里面有push<span class="token punctuation">,</span> goBack等常用浏览器的操作方法
        locatin<span class="token operator">:</span>经过封装的浏览器的loaction对象
        match：接受路由参数的
    <span class="token number">7.</span> 路由嵌套
        <span class="token number">1.</span> 路由到的页面中又有其他的路由
        <span class="token number">2.</span> 常见的二层嵌套，多层嵌套
            <span class="token number">1.</span> 两层嵌套
                外层把组件作为路由标签用，在组件的属性上使用path属性，来定义路径内层被嵌套的组件使用<span class="token operator">&lt;</span>Route<span class="token operator">&gt;</span>来定义
                在外层组件内部需要使用props<span class="token punctuation">.</span> children来显示子级路由
                注意<span class="token operator">:</span>内层路由路径要把父级的路径带上
  <span class="token constant">APP</span><span class="token punctuation">.</span>js：<span class="token operator">&lt;</span>Kemu path<span class="token operator">=</span><span class="token string">'/kemu'</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/kemu/keyi'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Keyi<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/kemu/Keer'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Keer<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/kemu/Kesan'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Kesan<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
              <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/kemu/Kesi'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Kesi<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Kemu<span class="token operator">&gt;</span>

Kemu<span class="token punctuation">.</span>js
 <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>h1<span class="token operator">&gt;</span>驾照考试<span class="token operator">&lt;</span><span class="token operator">/</span>h1<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/kemu/keyi'</span><span class="token operator">&gt;</span>科<span class="token number">111</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
          		<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/kemu/Keer'</span><span class="token operator">&gt;</span>科<span class="token number">222</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
          		<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/kemu/Kesan'</span><span class="token operator">&gt;</span>科<span class="token number">333</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
          		<span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/kemu/Kesi'</span><span class="token operator">&gt;</span>科<span class="token number">444</span><span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                    <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>

            <span class="token number">2.</span> 多层嵌套
                <span class="token number">1.</span> 不能把组件作为标签使用了
                <span class="token number">2.</span> 定义在组件内部，在组件内部使用<span class="token operator">&lt;</span>Route<span class="token operator">&gt;</span>来定义路由
                    <span class="token operator">&lt;</span>Link<span class="token operator">&gt;</span>定义导航
<span class="token keyword">function</span> <span class="token function">Keer</span><span class="token punctuation">(</span><span class="token parameter">props</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>科二
    <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">'/kemu/Keer/Daoche'</span> component<span class="token operator">=</span><span class="token punctuation">{</span>Daoche<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
    <span class="token operator">&lt;</span>Link to<span class="token operator">=</span><span class="token string">'/kemu/Keer/Daoche'</span><span class="token operator">&gt;</span>倒车<span class="token operator">&lt;</span><span class="token operator">/</span>Link<span class="token operator">&gt;</span>
  <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

    <span class="token number">8.</span> 路由重定向
        <span class="token number">1.</span> 引入标签<span class="token operator">&lt;</span>Redirect<span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token number">2.</span> 用法
            <span class="token number">1.</span> <span class="token operator">&lt;</span>Route path<span class="token operator">=</span><span class="token string">' /a'</span> render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">'/b'</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token number">2.</span> 直接作为标签使用
                <span class="token operator">&lt;</span>Redirect <span class="token keyword">from</span><span class="token operator">=</span><span class="token string">'/c'</span> to<span class="token operator">=</span><span class="token string">'/'</span><span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token number">3.</span> 在Route双标签内使用
                <span class="token operator">&lt;</span>Route path<span class="token operator">=</span> <span class="token string">'/v'</span><span class="token operator">&gt;</span>
                    <span class="token operator">&lt;</span>Redirect to<span class="token operator">=</span><span class="token string">'/'</span><span class="token operator">/</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span><span class="token operator">/</span>Route <span class="token operator">&gt;</span>
    <span class="token number">9.</span> 路由高亮
        <span class="token number">1.</span> 引入NavLink标签
        <span class="token number">2.</span> 这个标签在被选中时，能自动添加类名
        <span class="token number">3.</span> 自己添加css样式
    <span class="token number">10.</span> 编程式导航
        <span class="token operator">-</span> 就是使用history的导航功能实现的
        <span class="token operator">-</span> history<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//正常的导航，会把这层路径添加到浏览器的历史记录中</span>
        <span class="token operator">-</span> history<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//替换导航</span>
        <span class="token operator">-</span> history<span class="token punctuation">.</span><span class="token function">goBack</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//返回上一层路径</span>
        <span class="token operator">-</span> history<span class="token punctuation">.</span><span class="token function">go</span><span class="token punctuation">(</span>number<span class="token punctuation">)</span> <span class="token comment">//前进或后退</span>
    <span class="token number">11.</span> <span class="token function">withRouter</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token operator">-</span> 有些页面访问不到，如果想在这种页面使用编程式导航
        <span class="token operator">-</span> withRouter是react<span class="token operator">-</span>router 提供的一个高阶组件，使用这个函数调用时把不能访问
        history对象的组件放在实爹位置上，就可以返回一个新组件，这个新组件就具备了history <span class="token punctuation">,</span>loaction，match对象
<span class="token keyword">import</span> <span class="token punctuation">{</span>withRouter<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-router'</span><span class="token comment">//引入</span>
<span class="token keyword">let</span> Newkemu<span class="token operator">=</span><span class="token function">withRouter</span><span class="token punctuation">(</span>kemu<span class="token punctuation">)</span><span class="token comment">//引用</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Newkemu <span class="token comment">//导出</span>

        <span class="token operator">-</span> 除了withRouter<span class="token punctuation">,</span>还可以通过props传参形式由父级传递下来

# antd
<span class="token operator">-</span> antd 是基于 Ant Design 设计体系的 React <span class="token constant">UI</span> 组件库，主要用于研发企业级中后台产品
<span class="token operator">-</span> 使用
    <span class="token number">1.</span> 安装：npm install antd <span class="token operator">--</span>save
    <span class="token number">2.</span> 引入
        <span class="token number">1.</span> 全部引入css
            优点：不需要考虑css问题，引入任何组件都有css
            缺点：有很多css用不到
            <span class="token keyword">import</span> <span class="token string">'antd/dist/antd.css'</span>
        <span class="token number">2.</span> 按需引入
             用哪个组件，就动态的添加这个组件需要的css
                第一种方式：craco库
                第二种方式：

Day5
# 配置less
<span class="token operator">-</span> 使用create<span class="token operator">-</span>react<span class="token operator">-</span>app脚手架创建的项目，默认是不支持less。如果想在项目中使用less就需要自己配置
<span class="token operator">-</span> 常用的方法：
    <span class="token number">0.</span> 首先下载 less 和 less<span class="token operator">-</span>loader 
    <span class="token number">1.</span> 直接修改webpack的配置
        <span class="token number">1.</span> 运行 npm run eject ： 把webpack的配置文件显示出来
        <span class="token number">2.</span> 在webpack<span class="token punctuation">.</span>config<span class="token punctuation">.</span>js中进行修改
            <span class="token number">1.</span> 先搜索rules，直接自己添加loader配置
                <span class="token punctuation">{</span>
                    test<span class="token operator">:</span><span class="token regex"><span class="token regex-delimiter">/</span><span class="token regex-source language-regex">\.less</span><span class="token regex-delimiter">/</span></span><span class="token punctuation">,</span>
                    use<span class="token operator">:</span><span class="token punctuation">[</span><span class="token string">'style-loader'</span><span class="token punctuation">,</span><span class="token string">'css-loader'</span><span class="token punctuation">,</span><span class="token string">'less-loader'</span><span class="token punctuation">]</span>
                <span class="token punctuation">}</span>
            <span class="token number">2.</span> 参照sass的配置，搜索sass
                复制sass的配置，把其中的sass修改为less
    <span class="token number">2.</span> 使用中间件
        <span class="token number">1.</span> craco库，@craco<span class="token operator">/</span>less插件
        <span class="token number">2.</span> customize<span class="token operator">-</span>cra react<span class="token operator">-</span>app<span class="token operator">-</span>rewired库

<span class="token number">2.</span> mock
    <span class="token number">1.</span> 作用：生成随机数据，拦截 Ajax 请求
    <span class="token number">2.</span> 优点：
        前后端分离   开发无侵入
    <span class="token number">3.</span> 安装及使用
        npm install mockjs
    <span class="token number">4.</span> 数据模板定义规范：
        数据模板中的每个属性由 <span class="token number">3</span> <span class="token function">部分构成：属性名</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token function">、生成规则</span><span class="token punctuation">(</span>rule<span class="token punctuation">)</span><span class="token function">、属性值</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
        语法：<span class="token string">'name|rule'</span><span class="token operator">:</span> value
        生成规则 有 <span class="token number">7</span> 种格式：
        <span class="token string">'name|min-max'</span><span class="token operator">:</span> value
        <span class="token string">'name|count'</span><span class="token operator">:</span> value
        <span class="token string">'name|min-max.dmin-dmax'</span><span class="token operator">:</span> value
        <span class="token string">'name|min-max.dcount'</span><span class="token operator">:</span> value
        <span class="token string">'name|count.dmin-dmax'</span><span class="token operator">:</span> value
        <span class="token string">'name|count.dcount'</span><span class="token operator">:</span> value
        <span class="token string">'name|+step'</span><span class="token operator">:</span> value
    <span class="token number">5.</span> 数据占位符定义规范：
        占位符 只是在属性值字符串中占个位置，并不出现在最终的属性值中
        语法：@占位符 cname
        @<span class="token function">占位符</span><span class="token punctuation">(</span>参数 <span class="token punctuation">[</span><span class="token punctuation">,</span> 参数<span class="token punctuation">]</span><span class="token punctuation">)</span>
        注意：
        <span class="token number">1.</span>用 @ 来标识其后的字符串是 占位符。
        <span class="token number">2.</span>占位符 引用的是 Mock<span class="token punctuation">.</span>Random 中的方法
        <span class="token number">3.</span>通过 Mock<span class="token punctuation">.</span>Random<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> 来扩展自定义占位符。
        <span class="token number">4.</span>占位符 也可以引用 数据模板 中的属性。
        <span class="token number">5.</span>占位符 会优先引用 数据模板 中的属性。
        <span class="token number">6.</span>占位符 支持 相对路径 和 绝对路径
    <span class="token number">6.</span> 拦截网络请求
        Mock<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span>url<span class="token punctuation">,</span>type<span class="token punctuation">,</span>template<span class="token punctuation">)</span>
<span class="token number">3.</span> 小项目
    


Day6
<span class="token number">1.</span> 
<span class="token number">2.</span>
 作用：可以不通过props一层一层的传递数据，通过Provider提供数据，在组件树之间可以直接获取数据。
    <span class="token number">1.</span> <span class="token function">数据传递方向有父传子</span> <span class="token punctuation">(</span>props<span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">子传父</span> <span class="token punctuation">(</span>事件<span class="token punctuation">)</span>
        这两种形式都需要一层一层的传递
    <span class="token number">2.</span> 作用：Context 提供了一个无需为每层组件手动添加 props，就能在组件树间进行数据传递的方法
    <span class="token number">3.</span> 使用
        <span class="token number">1.</span> 创建Context<span class="token punctuation">.</span>js
            <span class="token keyword">import</span> React <span class="token keyword">from</span> <span class="token string">'react'</span>
              <span class="token keyword">const</span> Mycontext<span class="token operator">=</span>React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Mycontext

        <span class="token number">2.</span> Mycontext<span class="token punctuation">.</span>Provider <span class="token operator">:</span> 提供数据
            <span class="token operator">&lt;</span>Mycontext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>Comp <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Mycontext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
        <span class="token number">3.</span> Mycontext<span class="token punctuation">.</span>Consumer <span class="token operator">:</span> 获取数据
             <span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
           <span class="token operator">&lt;</span>Mycontext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
               <span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                   console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                   <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                       item
                       <span class="token punctuation">{</span>value<span class="token punctuation">.</span>sun<span class="token punctuation">}</span>
                       <span class="token punctuation">{</span>value<span class="token punctuation">.</span>pp<span class="token punctuation">}</span>
                   <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
               <span class="token punctuation">}</span><span class="token punctuation">}</span>
           <span class="token operator">&lt;</span><span class="token operator">/</span>Mycontext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>
    <span class="token punctuation">}</span>

        <span class="token number">4.</span> Class<span class="token punctuation">.</span>contextType<span class="token operator">:</span>获取数据
            Class<span class="token punctuation">.</span>contextType <span class="token operator">=</span> Mycontext<span class="token punctuation">;</span><span class="token comment">//写在最下</span>
            在组件内可以使用context属性获取的数据 
        <span class="token number">5.</span> <span class="token keyword">static</span> contextType：获取数据
            <span class="token keyword">static</span> contextType <span class="token operator">=</span> Mycontext<span class="token punctuation">;</span><span class="token comment">//在render的上一行</span>
            在组件内可以使用context属性获取的数据
        <span class="token number">6.</span> contextType<span class="token punctuation">,</span>Consumer 区别
            contextType 调用多次时，只有最后一次生效
            Consumer 调用多次，数据不覆盖



<span class="token number">2.</span> 错误边界
    <span class="token number">1.</span> react中一个页面中可能有很多组件，只要其中有一个组件运行出错，react会把页面中所有组件全卸载掉，显示空白屏幕
    <span class="token number">2.</span> 错误边界<span class="token operator">:</span>当React运行中有错误时，这时显示一个备用的页面，不显示白屏，还可以把报错信息发送到指定的位置
    <span class="token number">3.</span> 用法：
         错误边界也是一个组件，定义好后包裹其他的组件，这个组件必须是<span class="token keyword">class</span>定义的，同时这个组件中必须有以下两个生命周期函数中的至少一个
             <span class="token keyword">static</span> <span class="token function">getDerivedStateFromError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
       		 <span class="token keyword">return</span> <span class="token punctuation">{</span>iserror<span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">}</span>
   				 <span class="token punctuation">}</span>
        渲染备用 <span class="token constant">UI</span>
            <span class="token function">componentDidCatch</span><span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>rest</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>rest<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
        打印错误信息，可以把错误信息发送到指定位置
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>iserror<span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>组件报错了<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> <span class="token punctuation">(</span>
            <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
                <span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span>children<span class="token punctuation">}</span>           
            <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token punctuation">)</span>  
    <span class="token punctuation">}</span>

Day7
# Refs 转发
<span class="token number">1.</span> ref是什么？允许用户获取到原生<span class="token constant">DOM</span>
<span class="token number">2.</span> ref放在组件上，这时current的值是谁？
    就是这个组件
<span class="token number">3.</span> ref放在组件上时，我想获取的是这个组件内部的某个<span class="token constant">DOM</span>元素
    <span class="token operator">-</span> react中组件上使用ref属性时，react会把ref从props中删除，根本不会传递到组件内部。
    <span class="token operator">-</span> refs转发就是解决上面这个问题的
<span class="token number">4.</span> 用法：
    <span class="token number">1.</span> 创建ref 在父类
      <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>ref1<span class="token operator">=</span>React<span class="token punctuation">.</span><span class="token function">createRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
    在父类可以通过事件输出
     console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>ref1<span class="token punctuation">.</span>current<span class="token punctuation">)</span><span class="token punctuation">;</span>
    然后在组件中传过去ref <span class="token operator">&lt;</span>Sonref ref<span class="token operator">=</span><span class="token punctuation">{</span><span class="token keyword">this</span><span class="token punctuation">.</span>ref1<span class="token punctuation">}</span> msg<span class="token operator">=</span><span class="token string">'2006'</span><span class="token operator">/</span><span class="token operator">&gt;</span> 
    <span class="token number">2.</span> 使用forwardRef来创建组件
       <span class="token keyword">let</span> Son<span class="token operator">=</span>React<span class="token punctuation">.</span><span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>ref</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span>
           <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span><span class="token operator">&gt;</span>son中的div<span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Son
# Fragments
<span class="token number">1.</span> Fragments 允许你将子列表分组，而无需向 <span class="token constant">DOM</span> 添加额外节点。
<span class="token number">2.</span> 语法：
    <span class="token operator">&lt;</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>React<span class="token punctuation">.</span>Fragment<span class="token operator">&gt;</span>
简写语法： <span class="token operator">&lt;</span><span class="token operator">&gt;</span><span class="token operator">...</span><span class="token operator">&lt;</span><span class="token operator">/</span><span class="token operator">&gt;</span>

# 高阶组件
<span class="token operator">-</span> 高阶组件（<span class="token constant">HOC</span>）是 React 中用于复用组件逻辑的一种高级技巧。<span class="token constant">HOC</span> 自身不是 React <span class="token constant">API</span> 的一部分，它是一种基于 React 的组合特性而形成的设计模式， 高阶组件本身是一个函数，接收一个组件，返回一个新组件
  高阶组件是参数为组件，返回值为新组件的函数
  代码如下

<span class="token comment">//     // React的api, React.createElement(标签,{属性},children)</span>
<span class="token comment">//     // React的api, React.cloneElement(react元素,{属性},children)</span>
<span class="token comment">//     // React的api, React.Children.map()</span>

# 性能优化
<span class="token operator">-</span> <span class="token function">shouldComponentUpdate</span><span class="token punctuation">(</span>nextProps<span class="token punctuation">,</span>nextState<span class="token punctuation">)</span>
<span class="token keyword">this</span><span class="token punctuation">.</span>props代表老状态，nextProps代表新状态
是否允许组件更新
<span class="token operator">-</span> PureComponent （<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Son2</span> <span class="token keyword">extends</span> <span class="token class-name">PureComponent</span>）
PureComponent来定义类形式组件，只有当props或state发生改变时才会触发组件更新

<span class="token operator">-</span> ComponentWillUnmount 组件注销
  <span class="token comment">// 组件销毁前，把全局的事件删除了 比如</span>
        window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span><span class="token string">'scroll'</span><span class="token punctuation">,</span><span class="token keyword">this</span><span class="token punctuation">.</span>myscroll<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>state<span class="token punctuation">.</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">-</span> <span class="token function">ComponentDidUpdate</span><span class="token punctuation">(</span>prevProps<span class="token punctuation">,</span>prevState<span class="token punctuation">)</span>
 防止死循环 可以加条件判断

# Render Props
<span class="token operator">-</span> 术语 “render prop” 是指一种在 React 组件之间使用一个值为函数的 prop 共享代码的简单技术，一些组件向外提供数据，不把需要数据的组件硬编程到这个组件内部，通过调用props<span class="token punctuation">.</span>上
的一个方法，把数据提供处理
<span class="token operator">-</span> 语法
Data<span class="token punctuation">.</span>jsx提供数据的组件
<span class="token keyword">class</span> <span class="token class-name">Data</span> <span class="token keyword">extends</span> <span class="token class-name">Component</span> <span class="token punctuation">{</span>
state <span class="token operator">=</span><span class="token punctuation">{</span>count<span class="token operator">:</span><span class="token number">1</span><span class="token punctuation">}</span>
<span class="token function">render</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
<span class="token keyword">return</span> <span class="token operator">&lt;</span>div<span class="token operator">&gt;</span><span class="token punctuation">{</span><span class="token keyword">this</span> <span class="token punctuation">.</span> props<span class="token punctuation">.</span> <span class="token function">render</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span> state<span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
在公共app<span class="token punctuation">.</span>js，等于把state传给son
 <span class="token operator">&lt;</span>Data render<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'ap'</span><span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token keyword">return</span> <span class="token operator">&lt;</span>Son1 state<span class="token operator">=</span><span class="token punctuation">{</span>state<span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>
      <span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">/</span><span class="token operator">&gt;</span>  
Son<span class="token punctuation">.</span>jsx在通过<span class="token keyword">this</span><span class="token punctuation">.</span>props接数据

# 懒加载
<span class="token operator">-</span> 当组件什么时候使用到了，再动态加载这个组件
<span class="token operator">-</span> 使用：
<span class="token keyword">let</span> About <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">lazy</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token keyword">import</span><span class="token punctuation">(</span><span class="token string">'./About'</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token operator">&lt;</span>Suspense fallback<span class="token operator">=</span><span class="token punctuation">{</span><span class="token operator">&lt;</span>Loading <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">}</span><span class="token operator">&gt;</span>
                <span class="token operator">&lt;</span>About <span class="token operator">/</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span><span class="token operator">/</span>Suspense<span class="token operator">&gt;</span>

Day8
# hooks hook作用：让函数式组件能使用state和生命周期
<span class="token number">1.</span> 介绍：Hook 是 React <span class="token number">16.8</span> 的新增特性。它可以让你在不编写 <span class="token keyword">class</span> 的情况下使用 state 以及其他的 React 特性。 rfc快速创建
    hook是给函数组件使用的，hook只能在函数组件中使用，不能在<span class="token keyword">class</span>组件中使用
    没有破坏性改动，<span class="token number">100</span><span class="token operator">%</span>向后兼容，react版本大于<span class="token number">16.8</span>就可以直接使用Hook
<span class="token number">2.</span> State Hook
    <span class="token number">1.</span> 语法：
        <span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span>useState<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span>count<span class="token punctuation">,</span> setCount<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token number">2.</span> 调用
        直接使用变量名 count
    <span class="token number">3.</span> 修改
        调用setCount方法
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 第一种用法：在老状态上修改 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token comment">//count是老的状态</span>
                <span class="token keyword">return</span> count <span class="token operator">+</span> <span class="token number">5</span><span class="token comment">//没有批量更新</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 第二种用法：设置成固定值 <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
            <span class="token operator">&lt;</span><span class="token operator">!</span><span class="token operator">--</span> 第三种用法： <span class="token operator">--</span><span class="token operator">&gt;</span>
            <span class="token function">setCount</span><span class="token punctuation">(</span>count<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span> <span class="token comment">//有批量更新功能</span>
    <span class="token number">4.</span> 是否是批量更新
        <span class="token function">setCount</span><span class="token punctuation">(</span><span class="token parameter">count</span><span class="token operator">=&gt;</span>count<span class="token operator">+</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token operator">:</span>不批量更新，写几个就执行几次
    <span class="token number">5.</span> 是否是异步
        在非其他宏任务或微任务中时是异步的， 否则同步执行的

<span class="token number">2.</span> Effect Hook
    <span class="token number">1.</span> useEffect 是给函数组件提供 <span class="token string">&quot;生命周期&quot;</span> 的一个函数，相当于有<span class="token number">3</span>个生命周期
    <span class="token number">2.</span> 语法：
        <span class="token number">1.</span> 引入
            <span class="token keyword">import</span> React<span class="token punctuation">,</span><span class="token punctuation">{</span>useEffect<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react'</span>
        <span class="token number">2.</span> 使用：
            <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token operator">...</span>
                <span class="token keyword">return</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token number">1.</span> 第一个参数位置是函数，作用相当于componentDidMount和componentDidUpdate
            <span class="token number">2.</span> 第二个参数位置是一个数组，可选的。这个数组是对componentDidUpdate优化使用的
                <span class="token number">1.</span> 不写第二个参数时：第一个参数位置的函数，在组件更新时会重新执行
                <span class="token number">2.</span> <span class="token function">第二个参数位置写空数组</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>：禁止ComponentDidUpdate执行
                <span class="token number">3.</span> 第二次参数位置数组中有值：只有数组中的参数的值发生改变时，才能执行ComponentDidUpdate
            <span class="token number">3.</span> <span class="token function">第一个参数位置的函数中的返回值</span><span class="token punctuation">(</span><span class="token keyword">return</span><span class="token punctuation">)</span> <span class="token operator">:</span> 相当于componentWillUnmount，effect 的清除阶段在每次重新渲染时都会执行，而不是只在卸载组件的时候执行一次。这个设计可以帮助我们创建 bug 更少的组件。

<span class="token number">3.</span> Context Hook
    <span class="token operator">-</span> 在函数组件中使用Context的hook
    <span class="token operator">-</span> 语法：
        这是获取数据 <span class="token keyword">const</span> value <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>MyContext<span class="token punctuation">)</span><span class="token punctuation">;</span>
        提供数据：Context<span class="token punctuation">.</span>Provider
useContext
    <span class="token number">1.</span> 在函数组件中获取Context提供的数据
    <span class="token number">2.</span> 用法：
        <span class="token number">1.</span> 创建Context<span class="token punctuation">,</span>提供数据
            Let Mycontext <span class="token operator">=</span> React<span class="token punctuation">.</span><span class="token function">createContext</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token comment">//写在export前面</span>
            <span class="token operator">&lt;</span>Mycontext<span class="token punctuation">.</span>Provider value<span class="token operator">=</span><span class="token punctuation">{</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span>Son <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>Mycontext<span class="token punctuation">.</span>Provider<span class="token operator">&gt;</span>
<span class="token keyword">export</span> <span class="token punctuation">{</span>Mycontext<span class="token punctuation">}</span>
        <span class="token number">2.</span> 在函数组件中调用useContext获取数据
            <span class="token keyword">function</span> <span class="token function">Son</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token function">useContext</span><span class="token punctuation">(</span>Mycontext<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token number">3.</span> 在函数组件中还可以使用Consumer获取数据
            <span class="token keyword">function</span> <span class="token function">Son</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token operator">&lt;</span>Mycontext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
                <span class="token punctuation">{</span>
                   <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
                        
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span><span class="token operator">&lt;</span><span class="token operator">/</span>Mycontext<span class="token punctuation">.</span>Consumer<span class="token operator">&gt;</span>
            <span class="token punctuation">}</span>

<span class="token number">4.</span> Hook 规则
    <span class="token number">1.</span> 只在最顶层使用 Hook<span class="token punctuation">,</span>不要在循环，条件或嵌套函数中调用 Hook
    <span class="token number">2.</span> 只在 React 函数中调用 Hook
Day9
# 新知识点
<span class="token number">1.</span>  useReducer 是功能更强大的<span class="token string">&quot;useState&quot;</span>
    <span class="token number">1.</span> 语法<span class="token operator">:</span>
        <span class="token keyword">const</span> <span class="token punctuation">[</span>state<span class="token punctuation">,</span> dispatch<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useReducer</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span> initialArg<span class="token punctuation">,</span> init<span class="token punctuation">)</span>
        <span class="token number">2.</span> dispatch：是useReducer产生的一个操作方法
            dispatch执行时需要传递一个对象 <span class="token punctuation">{</span>type<span class="token operator">:</span><span class="token string">'ADD'</span><span class="token punctuation">,</span>payload<span class="token operator">:</span><span class="token string">'data'</span><span class="token punctuation">}</span>
        <span class="token number">3.</span> reducer：提供对数据进行操作的方案
            <span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>action</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">case</span> <span class="token string">'ADD'</span><span class="token operator">:</span>
                        state <span class="token operator">=</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
                    <span class="token keyword">default</span><span class="token operator">:</span>
                        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
    <span class="token number">3.</span> 使用：
        直接调用变量名
    <span class="token number">4.</span> 修改：
        调用dispatch方法

# 注意：<span class="token operator">&lt;</span>React<span class="token punctuation">.</span>StrictMode<span class="token operator">&gt;</span>严格模式
    <span class="token operator">-</span> 检测意外的副作用
    严格模式不能自动检测到你的副作用，但它可以帮助你发现它们，使它们更具确定性。通过故意重复调用以下函数来实现的该操作：
    <span class="token keyword">class</span> 组件的 constructor，render 以及 shouldComponentUpdate 方法
    <span class="token keyword">class</span> 组件的生命周期方法 getDerivedStateFromProps
    函数组件体
    <span class="token function">状态更新函数</span> <span class="token punctuation">(</span>即 setState 的第一个参数）
    函数组件通过使用 useState，useMemo 或者 useReducer
这仅适用于开发模式。生产模式下生命周期不会被调用两次。

<span class="token number">2.</span> useMemo
    <span class="token number">1.</span> 把“创建”函数和依赖项数组作为参数传入 useMemo，它仅会在某个依赖项改变时才重新计算 memoized 值。这种优化有助于避免在每次渲染时都进行高开销的计算
    <span class="token number">2.</span> <span class="token keyword">const</span> memoizedValue <span class="token operator">=</span> <span class="token function">useMemo</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">computeExpensiveValue</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">3.</span> useRef
    <span class="token number">1.</span> useRef 返回一个可变的 ref 对象，其 <span class="token punctuation">.</span>current 属性被初始化为传入的参数（initialValue）。返回的 ref 对象在组件的整个生命周期内保持不变。
    <span class="token number">2.</span> 用法：
         <span class="token number">1.</span> 创建ref
    		<span class="token number">2.</span> 语法：<span class="token keyword">const</span> myref <span class="token operator">=</span> <span class="token function">useRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    		<span class="token number">3.</span> 使用
        		<span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span>myref<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
    		<span class="token number">4.</span> refs转发
        <span class="token operator">&lt;</span>Son ref<span class="token operator">=</span><span class="token punctuation">{</span>myref<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span>
        Son组件创建时，需要使用 React<span class="token punctuation">.</span><span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">)</span>创建
            React<span class="token punctuation">.</span><span class="token function">forwardRef</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">props<span class="token punctuation">,</span>ref</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token keyword">return</span> <span class="token operator">&lt;</span>div ref<span class="token operator">=</span><span class="token punctuation">{</span>ref<span class="token punctuation">}</span><span class="token operator">&gt;</span><span class="token operator">&lt;</span><span class="token operator">/</span>div<span class="token operator">&gt;</span>
            <span class="token punctuation">}</span><span class="token punctuation">)</span>


<span class="token number">4.</span> 自定义hook
    <span class="token number">1.</span> 提取组件中的业务逻辑
    <span class="token number">2.</span> 语法：
        必须以 <span class="token string">'use'</span> 开头，可以使用内置hook
        <span class="token keyword">function</span> <span class="token function">useXx</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token keyword">const</span> <span class="token punctuation">[</span>list<span class="token punctuation">,</span>setList<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">useState</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">useEffect</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
            <span class="token keyword">return</span> list
        <span class="token punctuation">}</span>
    <span class="token number">3.</span> 使用：
        在组件中直接调用即可
        注意：<span class="token number">1.</span> 只能在函数组件中使用
              <span class="token number">2.</span> 不能放在 <span class="token keyword">if</span><span class="token punctuation">,</span><span class="token keyword">for</span><span class="token punctuation">,</span>普通函数中调用

    

Day10 redux
<span class="token number">1.</span> 在react中数据传递方式有几种<span class="token operator">?</span>
    <span class="token number">1.</span> 父传子： props
    <span class="token number">2.</span> 子传父： 使用事件
    <span class="token number">3.</span> Context：提供公共数据

<span class="token number">2.</span> Context的缺点：
    <span class="token number">1.</span> 公共数据特别多
    <span class="token number">2.</span> 组件也特别多时
    当上面两种情况同时存在时，最好把Context定义在App<span class="token punctuation">.</span>js组件上
    但是都定义App<span class="token punctuation">.</span>js上，会造成App<span class="token punctuation">.</span>js组件上多很多对App组件来说没用的数据
    所以会有需求：把公共数据提取出去，单独放在一个存储空间中，使用数据时就从这个空间中取，修改时就修改这个空间中的数据。
<span class="token number">3.</span> redux
    <span class="token number">1.</span> 作用：把公共数据提取出去，单独放在一个存储空间中，使用数据时就从这个空间中取，修改时就修改这个空间中的数据。对数据操作时，redux提供的对应的方法
    <span class="token number">2.</span> 安装：npm install <span class="token operator">--</span>save redux
       调试工具：npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev redux<span class="token operator">-</span>devtools
    <span class="token number">3.</span> 三大原则
        <span class="token number">1.</span>单一数据源
            整个应用的 state 被储存在一棵object tree中，并且这个 object tree 只存在于唯一一个 store 中。
        <span class="token number">2.</span>使用纯函数来执行修改
            如何改变 state tree ，你需要编写 reducers。它接收先前的 state 和 action，并返回新的 state
        <span class="token number">3.</span>State 是只读的
       唯一改变 state 的方法就是触发 action，action 是一个用于描述已发生事件的普通对象。执行上面纯函数。
    
    <span class="token number">4.</span> 核心 store 
        <span class="token number">1.</span> store是存储数据的空间
        <span class="token number">2.</span> 创建存储空间语法：
            <span class="token keyword">import</span> <span class="token punctuation">{</span>createStore<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
            <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span>init<span class="token punctuation">)</span>
        <span class="token number">3.</span> store上会提供操作数据的方法
            <span class="token number">1.</span> 获取数据 <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token number">2.</span> 修改数据 <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
            <span class="token number">3.</span> 监听方法 <span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    
    <span class="token number">5.</span> 核心<span class="token number">2</span> reducer
        <span class="token number">1.</span> reducer 提供可预测化的状态管理
        <span class="token number">2.</span> reducer 必须是一个纯函数
            <span class="token keyword">function</span> <span class="token function">reducer</span><span class="token punctuation">(</span><span class="token parameter">state<span class="token punctuation">,</span>action</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                <span class="token keyword">switch</span><span class="token punctuation">(</span>action<span class="token punctuation">.</span>type<span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">case</span> <span class="token string">'ADD'</span><span class="token operator">:</span>
                        state <span class="token operator">=</span> state <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">;</span>
                        <span class="token keyword">return</span> state<span class="token punctuation">;</span>
                    <span class="token keyword">default</span><span class="token operator">:</span>
                        <span class="token keyword">return</span> state
                <span class="token punctuation">}</span>
            <span class="token punctuation">}</span>
        <span class="token number">3.</span> 这个reducer是放在 createStore 的第一个参数位置
    
    <span class="token number">6.</span> 核心<span class="token number">3</span> action
        <span class="token number">1.</span> 对store数据的具体操作
        <span class="token number">2.</span> 格式：
            <span class="token number">1.</span> 对象形式
                <span class="token punctuation">{</span>
                    type<span class="token operator">:</span><span class="token string">'ADD'</span><span class="token punctuation">,</span>
                    payload<span class="token operator">:</span><span class="token string">'xxxxx'</span>
                <span class="token punctuation">}</span>
            <span class="token number">2.</span> 函数形式
                <span class="token keyword">function</span> <span class="token constant">XX</span><span class="token punctuation">(</span><span class="token parameter">yy</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
                    <span class="token keyword">return</span> <span class="token punctuation">{</span>
                        type<span class="token operator">:</span><span class="token string">'ADD'</span><span class="token punctuation">,</span>
                        payload<span class="token operator">:</span>yy
                    <span class="token punctuation">}</span>
                <span class="token punctuation">}</span>
        <span class="token number">3.</span> <span class="token function">action也必须是没有副作用的</span><span class="token punctuation">(</span>网络请求，定时器<span class="token punctuation">)</span>
        <span class="token number">4.</span> 触发action执行：
            调用store上的dispatch方法，把action放在dispatch中

    <span class="token number">7.</span> reducers合并
        <span class="token number">1.</span> 如果一个store中要存储多个公共数据，这些公共数据的操作又是不一样的
        <span class="token number">2.</span> 需要创建多个reducer<span class="token punctuation">,</span>每个reducer中都保存相关的一组数据
        <span class="token number">3.</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">)</span>中只有第一个参数位置是放reducer的，而且只能放一个
        <span class="token number">4.</span> redux中提供了一个方法，combineReducers ，作用就是把多个reducer合并成一个
        <span class="token number">5.</span> combineReducers语法：
            <span class="token keyword">import</span> <span class="token punctuation">{</span>combineReducers<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
            <span class="token keyword">const</span> all <span class="token operator">=</span> <span class="token function">combineReducers</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                reducer1<span class="token operator">:</span>reducer1<span class="token punctuation">,</span>
                reducerA
            <span class="token punctuation">}</span><span class="token punctuation">)</span>
            返回值：all ，也是一个函数
        <span class="token number">6.</span> 把合并后的all放到 <span class="token function">createStore</span><span class="token punctuation">(</span>all<span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token number">1.</span> store中就有多个reducer中的数据了
            <span class="token number">2.</span> store<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">)</span>能触发所有reducer中的功能
    <span class="token number">8.</span> 支持异步action
        <span class="token number">1.</span> 需要使用中间件 ： redux<span class="token operator">-</span>thunk
        <span class="token number">2.</span> 安装：npm i redux<span class="token operator">-</span>thunk <span class="token operator">-</span><span class="token constant">S</span>
        <span class="token number">3.</span> 配置store支持中间件
            <span class="token keyword">import</span> <span class="token punctuation">{</span>applyMiddle<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'redux'</span>
            <span class="token keyword">import</span> thunk <span class="token keyword">from</span> <span class="token string">'redux-thunk'</span>
            <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span><span class="token function">applyMiddle</span><span class="token punctuation">(</span>thunk<span class="token punctuation">)</span><span class="token punctuation">)</span>
        <span class="token number">4.</span> 定义异步action
            <span class="token keyword">const</span> <span class="token function-variable function">yibu</span><span class="token operator">=</span><span class="token punctuation">(</span><span class="token parameter">url<span class="token punctuation">,</span>data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">(</span><span class="token parameter">dispatch<span class="token punctuation">,</span> getState</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                <span class="token function">fetch</span><span class="token punctuation">(</span>url<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token operator">=&gt;</span>data<span class="token punctuation">.</span><span class="token function">json</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token operator">=&gt;</span><span class="token punctuation">{</span>
                    <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                        type<span class="token operator">:</span><span class="token string">'ADD'</span><span class="token punctuation">,</span>
                        payload<span class="token operator">:</span>data
                    <span class="token punctuation">}</span><span class="token punctuation">)</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span>
            <span class="token punctuation">}</span>
        
        <span class="token number">5.</span> 执行异步action
            <span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token function">yibu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
        
    <span class="token number">9.</span> compose
        <span class="token number">1.</span> 合并applyMiddleware和其他的功能
        <span class="token number">2.</span> 让浏览器插件和中间件同时工作
<span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>all<span class="token punctuation">,</span>window<span class="token punctuation">.</span>__REDUX_DEVTOOLS_EXTENSION__ <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token function">__REDUX_DEVTOOLS_EXTENSION__</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
         composeEnhancers <span class="token operator">=</span> window<span class="token punctuation">.</span>__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ <span class="token operator">||</span>compose
 <span class="token keyword">const</span> store <span class="token operator">=</span> <span class="token function">createStore</span><span class="token punctuation">(</span>reducer<span class="token punctuation">,</span><span class="token function">composeEnhancers</span><span class="token punctuation">(</span><span class="token function">applyMiddleware</span><span class="token punctuation">(</span>thunk<span class="token punctuation">,</span>logger<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token number">3.</span> react关联redux
    <span class="token number">1.</span> 安装一个库，react<span class="token operator">-</span>redux
        npm i react<span class="token operator">-</span>redux <span class="token operator">-</span><span class="token constant">S</span>
    <span class="token number">2.</span> 使用 react<span class="token operator">-</span>redux 把react项目和redux关联起来
        <span class="token keyword">import</span> <span class="token punctuation">{</span>Provider <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span>
        <span class="token keyword">import</span> store <span class="token keyword">from</span> <span class="token string">'redux3.js'</span>
        <span class="token operator">&lt;</span>Provider store<span class="token operator">=</span><span class="token punctuation">{</span>store<span class="token punctuation">}</span><span class="token operator">&gt;</span>
            <span class="token operator">&lt;</span>App <span class="token operator">/</span><span class="token operator">&gt;</span>
        <span class="token operator">&lt;</span><span class="token operator">/</span>Provider<span class="token operator">&gt;</span>
    <span class="token number">3.</span> 在组件中使用redux数据
        <span class="token keyword">import</span> <span class="token punctuation">{</span>connect<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">'react-redux'</span><span class="token comment">//引入高阶组件</span>
        <span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">connect</span><span class="token punctuation">(</span>mapStateToProps<span class="token punctuation">,</span>mapDispatchToprops<span class="token punctuation">)</span><span class="token punctuation">(</span>Son<span class="token punctuation">)</span>
Connect里面是两个函数可定义
      <span class="token number">1.</span> 把store的存储的数据放到组件的props上
         <span class="token keyword">function</span> <span class="token function">mapStateToProps</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
     	 	console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'son'</span><span class="token punctuation">,</span>state<span class="token punctuation">)</span><span class="token punctuation">;</span> 
     		<span class="token keyword">return</span> <span class="token punctuation">{</span>user<span class="token operator">:</span>state<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token number">2.</span>把store上的dispatch方法给组件使用
<span class="token keyword">function</span> <span class="token function">mapDispatchToprops</span><span class="token punctuation">(</span><span class="token parameter">dispatch</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
        <span class="token function-variable function">changeuser</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            type<span class="token operator">:</span><span class="token string">'ADD'</span><span class="token punctuation">,</span>
            payload<span class="token operator">:</span><span class="token string">'花里胡哨'</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
        <span class="token function-variable function">deldel</span><span class="token operator">:</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span><span class="token operator">=&gt;</span><span class="token function">dispatch</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
            type<span class="token operator">:</span><span class="token string">'DEL'</span>

        <span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><p></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">12/25/2021, 6:37:28 PM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/vuepress-blog/assets/js/app.dee21d45.js" defer></script><script src="/vuepress-blog/assets/js/3.69ffd2da.js" defer></script><script src="/vuepress-blog/assets/js/16.d516429e.js" defer></script>
  </body>
</html>
